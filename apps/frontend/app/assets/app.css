@import "tailwindcss";

@plugin "daisyui" {
    theme: dark --default;
}

@plugin "daisyui/theme" {
    name: "dark";
    default: true;
    prefersdark: true;
    color-scheme: "dark";
    --color-base-100: oklch(18% 0.02 260);
    --color-base-200: oklch(22% 0.02 260);
    --color-base-300: oklch(26% 0.02 260);
    --color-base-content: oklch(92% 0.01 260);
    --color-primary: oklch(65% 0.2 260);
    --color-primary-content: oklch(98% 0.01 260);
    --color-secondary: oklch(70% 0.15 320);
    --color-secondary-content: oklch(20% 0.02 320);
    --color-accent: oklch(75% 0.15 190);
    --color-accent-content: oklch(20% 0.02 190);
    --color-neutral: oklch(35% 0.03 260);
    --color-neutral-content: oklch(95% 0.01 260);
    --color-info: oklch(72% 0.13 220);
    --color-success: oklch(75% 0.16 150);
    --color-warning: oklch(80% 0.15 85);
    --color-error: oklch(65% 0.18 25);
    --radius-selector: 0.75rem;
    --radius-field: 0.75rem;
    --radius-box: 1rem;
    --size-selector: 0.25rem;
    --size-field: 0.25rem;
    --border: 1px;
    --depth: 1;
    --noise: 0.02;
}

@plugin "daisyui/theme" {
    name: "light";
    default: false;
    prefersdark: false;
    color-scheme: "light";
    --color-base-100: oklch(98% 0.005 260);
    --color-base-200: oklch(95% 0.01 260);
    --color-base-300: oklch(90% 0.01 260);
    --color-base-content: oklch(25% 0.02 260);
    --color-primary: oklch(60% 0.2 260);
    --color-primary-content: oklch(100% 0 0);
    --color-secondary: oklch(65% 0.18 320);
    --color-secondary-content: oklch(100% 0 0);
    --color-accent: oklch(60% 0.15 180);
    --color-accent-content: oklch(100% 0 0);
    --color-neutral: oklch(30% 0.03 260);
    --color-neutral-content: oklch(98% 0.01 260);
    --color-info: oklch(65% 0.15 225);
    --color-success: oklch(65% 0.18 145);
    --color-warning: oklch(75% 0.15 75);
    --color-error: oklch(60% 0.2 25);
    --radius-selector: 0.75rem;
    --radius-field: 0.75rem;
    --radius-box: 1rem;
    --size-selector: 0.25rem;
    --size-field: 0.25rem;
    --border: 1px;
    --depth: 1;
    --noise: 0;
}

@font-face {
    font-family: Modernia;
    src: url(/fonts/Modernia-Regular-2.otf) format('opentype');
    font-display: swap;
}

.font-modernia {
    font-family: Modernia, 'Courier New', Courier, monospace;
}

@font-face {
    font-family: siyuan;
    src: url(/fonts/SourceHanSansCN-VF.otf);
}

.font-siyuan {
    font-family: siyuan;
}

* {
    scrollbar-width: thin;
    scrollbar-color: rgba(100, 100, 100, 0.2) transparent;
    touch-action: pan-x pan-y;
}

body,
html {
    overflow: hidden;
    font-family: siyuan, "PingFang SC", "Microsoft YaHei", "Noto Sans CJK SC",
        "Source Han Sans SC", "Hiragino Sans GB", "Heiti SC",
        "WenQuanYi Micro Hei", sans-serif;
}

.font-sans {
    font-family: siyuan, "PingFang SC", "Microsoft YaHei", "Noto Sans CJK SC",
        "Source Han Sans SC", "Hiragino Sans GB", "Heiti SC",
        "WenQuanYi Micro Hei", sans-serif;
}

.theme-transition {
    transition: background-color 0.45s cubic-bezier(0.4, 0, 0.2, 1),
        color 0.45s cubic-bezier(0.4, 0, 0.2, 1),
        border-color 0.45s cubic-bezier(0.4, 0, 0.2, 1),
        box-shadow 0.45s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: background-color, color;
    transform: translateZ(0);
}

.theme-ripple-anime {
    position: fixed;
    pointer-events: none;
    z-index: 9999;
    mix-blend-mode: overlay;
    border-radius: 50%;
    transform: scale(0);
    opacity: 0.8;
    will-change: transform, opacity, backdrop-filter;
    overflow: hidden;
}

.page-enter-active,
.page-leave-active {
    transition: opacity 0.1s ease-in-out;
}

.page-enter-from,
.page-leave-to {
    opacity: 0;
}

.layout-enter-active,
.layout-leave-active {
    transition: all 0.1s;
}

.layout-enter-from,
.layout-leave-to {
    filter: grayscale(1);
}

/* 浠呰椤甸潰瀹瑰櫒閫忔槑锛屼笉褰卞搷琛ㄥ崟涓庢诞灞傜粍浠?*/
.mica-active .bg-base-100:not(.select):not(.input):not(.textarea):not(.dropdown-content):not(.menu):not(.modal-box):not(.popover):not(.btn),
.mica-active .bg-base-200:not(.select):not(.input):not(.textarea):not(.dropdown-content):not(.menu):not(.modal-box):not(.popover):not(.btn),
.mica-active .bg-base-300:not(.select):not(.input):not(.textarea):not(.dropdown-content):not(.menu):not(.modal-box):not(.popover):not(.btn) {
    background-color: transparent !important;
}

/* 浜戞瘝妯″紡涓嬶紝娴眰涓庤〃鍗曟帶浠跺繀椤讳繚鎸佸彲璇昏儗鏅紝閬垮厤涓庡唴瀹归噸鍙?*/
.mica-active .select,
.mica-active .input,
.mica-active .textarea {
    background-color: color-mix(in oklab, var(--color-base-100) 82%, transparent) !important;
    border-color: color-mix(in oklab, var(--color-base-content) 12%, transparent) !important;
    box-shadow: none !important;
    backdrop-filter: blur(10px);
}

/* 閽堝甯?bg-base-100 鐨勮〃鍗曟帶浠跺仛寮哄埗鍏滃簳锛岄伩鍏嶇户缁€忔槑 */
.mica-active .select.bg-base-100,
.mica-active .input.bg-base-100,
.mica-active .textarea.bg-base-100,
.mica-active .select.bg-base-200,
.mica-active .input.bg-base-200,
.mica-active .textarea.bg-base-200,
.mica-active .select.bg-base-300,
.mica-active .input.bg-base-300,
.mica-active .textarea.bg-base-300 {
    background-color: color-mix(in oklab, var(--color-base-100) 90%, transparent) !important;
}

.mica-active select option,
.mica-active select optgroup {
    background-color: color-mix(in oklab, var(--color-base-100) 95%, transparent) !important;
    color: var(--color-base-content) !important;
}

.mica-active .dropdown-content,
.mica-active .menu,
.mica-active .popover,
.mica-active .modal-box,
.mica-active .drawer-side > *,
.mica-active .toast > * {
    background-color: color-mix(in oklab, var(--color-base-100) 90%, transparent) !important;
    border: 1px solid color-mix(in oklab, var(--color-base-content) 10%, transparent);
    backdrop-filter: blur(12px);
}

.mica-active .input:focus,
.mica-active .input:focus-within,
.mica-active .select:focus,
.mica-active .textarea:focus {
    border-color: color-mix(in oklab, var(--color-primary) 32%, transparent) !important;
    box-shadow: 0 0 0 1px color-mix(in oklab, var(--color-primary) 24%, transparent) !important;
}

/* 鍏ㄥ眬娴眰纾ㄧ爞鍏滃簳锛氫笉渚濊禆 base-100锛岄伩鍏嶄富棰樿閫忔槑鍖栧悗涓嬫媺绌块€?*/
:root {
    --glass-surface: oklch(22% 0.02 260 / 0.88);
    --glass-border: oklch(92% 0.01 260 / 0.14);
}

[data-theme="light"] {
    --glass-surface: oklch(98% 0.005 260 / 0.82);
    --glass-border: oklch(25% 0.02 260 / 0.1);
}

/* 涓嬫媺瑙﹀彂鎸夐挳锛氱粺涓€鍗婇€忔槑 + 妯＄硦 */
.dropdown > .btn,
.dropdown > .btn.btn-ghost,
.dropdown > .btn.btn-soft,
.dropdown > [role="button"].btn {
    background-color: var(--glass-surface) !important;
    border-color: var(--glass-border) !important;
    backdrop-filter: blur(10px);
}

/* 涓嬫媺闈㈡澘涓庤彍鍗曪細缁熶竴鍗婇€忔槑 + 妯＄硦锛岄槻姝笌鍐呭閲嶅彔 */
.dropdown-content,
.dropdown-content.menu,
.menu.dropdown-content {
    background-color: var(--glass-surface) !important;
    border: 1px solid var(--glass-border) !important;
    backdrop-filter: blur(14px);
    box-shadow: 0 8px 28px rgb(0 0 0 / 0.14);
}

/* 缁熶竴 main/admin 鐨勪笅鎷夋牱寮忥紙瑙﹀彂鍣?+ 闈㈡澘 + 閫夐」锛?*/
.select,
.select.select-bordered {
    background-color: var(--glass-surface) !important;
    border-color: var(--glass-border) !important;
    backdrop-filter: blur(12px);
}

.select:focus,
.select:focus-visible,
.dropdown > .btn:focus,
.dropdown > .btn:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px hsl(var(--p) / 0.2);
}

.dropdown-content.menu li > * {
    border-radius: 0.65rem;
    background-color: transparent;
    transition: background-color 0.15s ease, color 0.15s ease;
}

.dropdown-content.menu li > *:hover,
.dropdown-content.menu li > *:focus-visible,
.dropdown-content.menu li > *.active,
.dropdown-content.menu li > *.router-link-active {
    background-color: hsl(var(--bc) / 0.1) !important;
}

/* 鍙抽敭鑿滃崟缁熶竴浣跨敤鐜荤拑灞傦紝閬垮厤浜戞瘝涓婚涓嬮€忔槑绌块€?*/
.context-menu-panel,
.context-menu-panel.menu,
.mica-active .context-menu-panel,
.mica-active .context-menu-panel.menu {
    position: relative;
    isolation: isolate;
    overflow: hidden;
    background-color: transparent !important;
    border-color: rgba(255, 255, 255, 0.14) !important;
    box-shadow: 0 16px 42px rgb(0 0 0 / 0.24);
}

.context-menu-panel::before {
    content: '';
    position: absolute;
    inset: 0;
    z-index: -1;
    border-radius: inherit;
    background-color: rgba(26, 27, 31, 0.72);
    backdrop-filter: blur(56px) saturate(165%);
    -webkit-backdrop-filter: blur(56px) saturate(165%);
    pointer-events: none;
}

.context-menu-panel li > * {
    background-color: transparent !important;
}

.context-menu-panel li > *:hover,
.context-menu-panel li > *:focus-visible,
.context-menu-panel li > *.active {
    background-color: rgba(255, 255, 255, 0.1) !important;
}

[data-theme="light"] .context-menu-panel li > *:hover,
[data-theme="light"] .context-menu-panel li > *:focus-visible,
[data-theme="light"] .context-menu-panel li > *.active {
    background-color: rgba(28, 31, 38, 0.08) !important;
}

[data-theme="light"] .context-menu-panel,
[data-theme="light"] .context-menu-panel.menu,
[data-theme="light"].mica-active .context-menu-panel,
[data-theme="light"].mica-active .context-menu-panel.menu {
    border-color: rgba(28, 31, 38, 0.14) !important;
}

[data-theme="light"] .context-menu-panel::before,
[data-theme="light"].mica-active .context-menu-panel::before {
    background-color: rgba(255, 255, 255, 0.72);
}

/* 鍘熺敓 select 鐨?option 鐢辩郴缁熸帶浠剁粯鍒讹紝鏃犳硶鍋氱湡姝?blur锛涚粺涓€搴曡壊涓庢枃鏈‘淇濅竴鑷存€?*/
select option,
select optgroup {
    background-color: hsl(var(--b1)) !important;
    color: hsl(var(--bc)) !important;
}


